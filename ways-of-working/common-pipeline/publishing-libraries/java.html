<!doctype html>
<html lang="en" class="govuk-template no-js">
  <head>
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

    <title>Java - HMCTS</title>

    <link href="/stylesheets/manifest.css" rel="stylesheet" />

    <link rel="canonical" href="https://hmcts.github.io/ways-of-working/common-pipeline/publishing-libraries/java.html">

      <meta name="twitter:card" content="summary" />
      <meta name="twitter:domain" content="hmcts.github.io" />
      <meta name="twitter:image" content="https://hmcts.github.io/images/govuk-large.png" />
      <meta name="twitter:title" content="Java - HMCTS" />
      <meta name="twitter:url" content="https://hmcts.github.io/ways-of-working/common-pipeline/publishing-libraries/java.html" />

      <meta property="og:image" content="https://hmcts.github.io/images/govuk-large.png" />
      <meta property="og:site_name" content="HMCTS" />
      <meta property="og:title" content="Java" />
      <meta property="og:type" content="object" />
      <meta property="og:url" content="https://hmcts.github.io/ways-of-working/common-pipeline/publishing-libraries/java.html" />

    
  </head>

  <body class="govuk-template__body">
    <script>document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');</script>

    <div class="app-pane">
      <div class="app-pane__header toc-open-disabled">
        <a href="#content" class="govuk-skip-link">Skip to main content</a>

        <header class="govuk-header app-header" role="banner" data-module="govuk-header">
  <div class="govuk-header__container govuk-header__container--full-width">
    <div class="govuk-header__logo">
      <a href="https://github.com/hmcts" class="govuk-header__link govuk-header__link--homepage">
        <span class="govuk-header__product-name">
          HMCTS
        </span>
      </a>
        <strong class="govuk-tag">Live</strong>
    </div>
    <div class="govuk-header__content">
      <button type="button" class="govuk-header__menu-button govuk-js-header-toggle" aria-controls="navigation" aria-label="Show or hide Top Level Navigation">Menu</button>
      <nav>
        <ul id="navigation" class="govuk-header__navigation govuk-header__navigation--end" aria-label="Top Level Navigation">
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="https://hmcts-reform.slack.com/app_redirect?channel=platops-help">Support</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/">Documentation</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="https://github.com/hmcts">GitHub</a>
            </li>
        </ul>
      </nav>
    </div>
  </div>
</header>

      </div>

        <div id="toc-heading" class="toc-show fixedsticky">
          <button type="button" class="toc-show__label js-toc-show" aria-controls="toc">
            Table of contents <span class="toc-show__icon"></span>
          </button>
        </div>

      <div class="app-pane__body" data-module="in-page-navigation">
          <div class="app-pane__toc">
            <div class="toc" data-module="table-of-contents" tabindex="-1" aria-label="Table of contents" role="dialog">
              <div class="search" data-module="search">
  <form action="https://www.google.co.uk/search" method="get" role="search" class="search__form govuk-!-margin-bottom-4">
    <input type="hidden" name="as_sitesearch" value="https://hmcts.github.io"/>
    <label class="govuk-label search__label" for="search" aria-hidden="true">
      Search (via Google)
    </label>
    <input
      type="text"
      id="search" name="q"
      class="govuk-input govuk-!-margin-bottom-0 search__input"
      aria-controls="search-results"
      placeholder="Search">
    <button type="submit" class="search__button">Search</button>
  </form>
  <div id="search-results" class="search-results" aria-hidden="true" role="dialog" aria-labelledby="search-results-title">
    <div class="search-results__inner">
      <button class="search-results__close">Close<span class="search-results__close-label"> search results</span></button>
      <h2 id="search-results-title" class="search-results__title" aria-live="assertive" role="alert">Results</h2>
      <div class="search-results__content"></div>
    </div>
  </div>
</div>

              <button type="button" class="toc__close js-toc-close" aria-controls="toc" aria-label="Hide table of contents"></button>
              <nav id="toc" class="js-toc-list toc__list" aria-labelledby="toc-heading" data-module="collapsible-navigation">
                      <ul>
  <li>
    <a href="/"><span>The HMCTS way</span></a>
  </li>
  <li>
    <a href="/glossary/"><span>Glossary</span></a>
  </li>
<li><a href="/onboarding/"><span>Platform onboarding</span></a>
<ul>
<li><a href="/onboarding/team/"><span>Team</span></a>
<ul>
  <li>
    <a href="/onboarding/team/office365.html"><span>Office 365</span></a>
  </li>
  <li>
    <a href="/onboarding/team/azuread.html"><span>Azure AD</span></a>
  </li>
  <li>
    <a href="/onboarding/team/slack.html"><span>Slack</span></a>
  </li>
  <li>
    <a href="/onboarding/team/github.html"><span>GitHub</span></a>
  </li>
  <li>
    <a href="/onboarding/team/jenkins.html"><span>Jenkins</span></a>
  </li>
</ul>
</li>
  <li>
    <a href="/onboarding/person/"><span>Person</span></a>
  </li>
</ul>
</li>
<li><a href="/ways-of-working/"><span>Ways of working</span></a>
<ul>
  <li>
    <a href="/ways-of-working/principles/"><span>Principles</span></a>
  </li>
<li><a href="/ways-of-working/standards/"><span>Concepts and standards</span></a>
<ul>
  <li>
    <a href="/ways-of-working/standards/environments.html"><span>Environments</span></a>
  </li>
  <li>
    <a href="/ways-of-working/standards/apis.html"><span>API design</span></a>
  </li>
  <li>
    <a href="/ways-of-working/standards/pull-requests.html"><span>Pull requests</span></a>
  </li>
</ul>
</li>
<li><a href="/ways-of-working/new-component/"><span>Starting a new component</span></a>
<ul>
  <li>
    <a href="/ways-of-working/new-component/infrastructure-as-code.html"><span>Infrastructure as Code</span></a>
  </li>
  <li>
    <a href="/ways-of-working/new-component/github-repo.html"><span>Create a Github Repository</span></a>
  </li>
  <li>
    <a href="/ways-of-working/new-component/helm-chart.html"><span>Helm chart</span></a>
  </li>
  <li>
    <a href="/ways-of-working/new-component/secrets-management.html"><span>Secrets Management</span></a>
  </li>
  <li>
    <a href="/ways-of-working/new-component/flux-v1.html"><span>Flux-V1</span></a>
  </li>
  <li>
    <a href="/ways-of-working/new-component/gitops-flux.html"><span>GitOps</span></a>
  </li>
  <li>
    <a href="/ways-of-working/new-component/elasticsearch.html"><span>ElasticSearch</span></a>
  </li>
  <li>
    <a href="/ways-of-working/new-component/feature-flags.html"><span>Feature flags</span></a>
  </li>
</ul>
</li>
<li><a href="/ways-of-working/common-pipeline/"><span>The common pipeline</span></a>
<ul>
<li><a href="/ways-of-working/common-pipeline/publishing-libraries/"><span>Publishing Libraries</span></a>
<ul>
  <li>
    <a href="/ways-of-working/common-pipeline/publishing-libraries/nodejs.html"><span>Node.js</span></a>
  </li>
  <li>
    <a href="/ways-of-working/common-pipeline/publishing-libraries/java.html"><span>Java</span></a>
  </li>
</ul>
</li>
  <li>
    <a href="/ways-of-working/common-pipeline/common-pipeline.html"><span>Common pipeline</span></a>
  </li>
  <li>
    <a href="/ways-of-working/common-pipeline/tips_and_tricks.html"><span>Tips and Tricks</span></a>
  </li>
</ul>
</li>
<li><a href="/ways-of-working/path-to-live/"><span>Path to live</span></a>
<ul>
  <li>
    <a href="/ways-of-working/path-to-live/front-door.html"><span>Front Door configuration</span></a>
  </li>
  <li>
    <a href="/ways-of-working/path-to-live/shutter.html"><span>Shutter Implementation and Design</span></a>
  </li>
  <li>
    <a href="/ways-of-working/path-to-live/tls-certificates.html"><span>TLS certificates</span></a>
  </li>
  <li>
    <a href="/ways-of-working/path-to-live/public-dns.html"><span>Public DNS</span></a>
  </li>
  <li>
    <a href="/ways-of-working/path-to-live/load-balancer-configuration.html"><span>Load balancer configuration</span></a>
  </li>
</ul>
</li>
  <li>
    <a href="/ways-of-working/asking-for-help/"><span>Asking for help</span></a>
  </li>
<li><a href="/ways-of-working/guides/"><span>Guides</span></a>
<ul>
  <li>
    <a href="/ways-of-working/guides/connect-via-vpn.html"><span>Make a new Virtual Network accessible over the VPN</span></a>
  </li>
</ul>
</li>
<li><a href="/ways-of-working/troubleshooting/"><span>Troubleshooting issues</span></a>
<ul>
  <li>
    <a href="/ways-of-working/troubleshooting/fluxV1.html"><span>Flux V1</span></a>
  </li>
</ul>
</li>
</ul>
</li>
<li><a href="/information-security/"><span>Information security</span></a>
<ul>
  <li>
    <a href="/information-security/certificate-automation.html"><span>TLS certificates</span></a>
  </li>
</ul>
</li>
  <li>
    <a href="/api-docs/"><span>API Documentation</span></a>
  </li>
</ul>


              </nav>
            </div>
          </div>

        <div class="app-pane__content toc-open-disabled">
          <main id="content" class="technical-documentation" data-module="anchored-headings">
            <h1 id="java">Java</h1>
<p>For publishing Java libraries, we use JitPack as our artifact repository and GitHub Actions to publish the libraries.</p>
<h2 id="publishing-with-jitpack">Publishing with Jitpack</h2>
<p>JitPack reads all the public HMCTS repositories and watches for new releases and tags. As soon as a new tag is found it will be available for download using the following format: <code>com.github.hmcts:Repo:Version</code>.</p>
<h2 id="setting-up-jitpack">Setting up JitPack</h2>
<p>The first time you request a project, JitPack checks out the code, builds it and sends the Jar files back to you.
This can sometimes mean that without editing timeout configuration in your gradle settings users will experience a timeout the first time a tag has been requested.
To resolve this issue, a github workflow has been created to build it as soon as a tag is pushed.</p>
<p>An example of that workflow is here: <a href="https://github.com/hmcts/.github/blob/master/workflow-templates/jitpack_build.yml">jitpack_build.yml</a></p>
<h2 id="using-the-github-action">Using the Github Action</h2>

<ol>
<li>Go to your repository within GitHub</li>
<li>Select the Actions tab at the top</li>
<li>Select &lsquo;New workflow&rsquo;</li>
<li>Scroll down and select &lsquo;Trigger JitPack Build&rsquo; pressing the &lsquo;Set up this workflow&rsquo; button</li>
<li>On the far right select &lsquo;Start commit&rsquo;</li>
<li>Update the PR name, then select &lsquo;Commit new file&rsquo;</li>
<li>Setup the PR as a draft so we can add the remaining file.</li>
<li>Pull your feature branch</li>
<li>Set your java version in a <code>jitpack.yml</code> file, see below:</li>
</ol>
<div class="highlight"><pre class="highlight yaml" tabindex="0"><code><span class="na">jdk</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">openjdk11</span>
</code></pre></div><h2 id="custom-configuration">Custom configuration:</h2>
<p>By default, Jitpack compiles projects using OpenJDK Java 8 and uses <code>./gradlew install</code> for the maven plugin and <code>./gradlew build publishToMavenLocal</code> for the maven-publish plugin.
If you use both, JitPack will default to using install.
In your <code>jitpack.yml</code> you can override the install command like so:</p>
<div class="highlight"><pre class="highlight plaintext" tabindex="0"><code>jdk:
  - openjdk11

install:
  - ./gradlew build publishToMavenLocal
</code></pre></div><h2 id="downloading-packages-from-jitpack">Downloading packages from JitPack</h2>
<p>To download from JitPack you will need to add the JitPack repo to your list of repositories in your build.gradle files.</p>
<div class="highlight"><pre class="highlight plaintext" tabindex="0"><code>repositories {
    ...
    maven { 
        url "https://jitpack.io" 
    }
}
</code></pre></div><p>The dependancy information follows the following format:</p>

<ul>
<li>Group: com.github.hmcts</li>
<li>Artifact: Repository Name</li>
<li>Version: Release tag, commit hash or master-SNAPSHOT</li>
</ul>
<p>You will end up with something similar to the example below in your build.gradle files.</p>
<div class="highlight"><pre class="highlight plaintext" tabindex="0"><code>dependencies {
    ...
    implementation 'com.github.hmcts.$repo-name:$artifact-id'
}
</code></pre></div><h2 id="checking-the-status-of-a-build">Checking the Status of a Build</h2>
<p>A list of files created from the build and the build log can be found by entering a url with the following format:</p>
<p>List of files from build: <code>https://jitpack.io/com/github/hmcts/repo_name/tag/</code>
Example: <a href="https://jitpack.io/com/github/hmcts/idam-health-checker/2.2.5">https://jitpack.io/com/github/hmcts/idam-health-checker/2.2.5</a></p>
<h2 id="multi-module-builds">Multi-module builds</h2>
<p>You can view the different module names by selecting the &lsquo;Subproject&rsquo; drop-down menu on JitPack for the package, make sure you select a version first, see an example for <a href="https://jitpack.io/#hmcts/java-logging/5.1.9">java-logging 5.1.9</a>.</p>
<p><a href="../images/subprojects.png" rel="noopener noreferrer"><img src="/images/../images/subprojects.png" alt="Subprojects" /></a></p>
<p>Further information on JitPack can be found at <a href="jitpack.io/docs">jitpack.io/docs</a>.</p>

              <div data-module='page-expiry' data-last-reviewed-on="2022-04-28">
    <div class='page-expiry--not-expired'>
      This page was last reviewed on 28 October 2021.

        It needs to be reviewed again on 28 April 2022
        by the page owner <a href="https://hmcts-reform.slack.com/messages/platops-build-notices">platops-build-notices</a>
        .
    </div>

    <div class='page-expiry--expired'>
      This page was set to be reviewed before 28 April 2022
       by the page owner <a href="https://hmcts-reform.slack.com/messages/platops-build-notices">platops-build-notices</a>.
      This might mean the content is out of date.
    </div>
  </div>

          </main>

          <aside>
              <ul class="contribution-banner">
                <li><a href="https://github.com/hmcts/hmcts.github.io/blob/source/source/ways-of-working/common-pipeline/publishing-libraries/java.html.md.erb">View source</a></li>
                <li><a href="https://github.com/hmcts/hmcts.github.io/issues/new?labels=bug&amp;title=Re:%20'Java'&amp;body=Problem%20with%20'Java'%20(https://hmcts.github.io/ways-of-working/common-pipeline/publishing-libraries/java.html)">Report problem</a></li>
                <li><a href="https://github.com/hmcts/hmcts.github.io">GitHub Repo</a></li>
              </ul>
          </aside>

          <footer class="govuk-footer app-footer" role="contentinfo">
  <div class="govuk-footer__meta">
    <div class="govuk-footer__meta-item govuk-footer__meta-item--grow">


      <svg
        aria-hidden="true"
        focusable="false"
        class="govuk-footer__licence-logo"
        xmlns="http://www.w3.org/2000/svg"
        viewbox="0 0 483.2 195.7"
        height="17"
        width="41"
      >
        <path
          fill="currentColor"
          d="M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145"
        />
      </svg>
      <span class="govuk-footer__licence-description">
        All content is available under the
        <a
          class="govuk-footer__link"
          href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"
          rel="license"
        >Open Government Licence v3.0</a>, except where otherwise stated
      </span>
    </div>
    <div class="govuk-footer__meta-item">
      <a
        class="govuk-footer__link govuk-footer__copyright-logo"
        href="https://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/uk-government-licensing-framework/crown-copyright/"
      >© Crown copyright</a>
    </div>
  </div>
</footer>

        </div>
      </div>
    </div>

      <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-170132988-1', 'auto');
  ga('set', 'anonymizeIp', true);
  ga('set', 'displayFeaturesTask', null);
  ga('set', 'transport', 'beacon');
  ga('set', 'page', location.pathname+location.search+location.hash);
  ga('send', 'pageview');
  </script>

    <script src="/javascripts/application.js"></script>
  </body>
</html>
